/* ------------------------------------------------------------------------
	wetchBox
	
	Developped By: Pol Alegria (http://www.webscoming.me/wetchBox)
	Creadits: Webscoming (http://www.webscoming.com)
	Version: 0.2
	
	Copyright: Feel free to redistribute the script/modify it, as
			   long as you leave my infos at the top.
------------------------------------------------------------------------- */

(function(e){e.fn.wetchBox=function(t){t=e.extend({container:"div",item:"span",containerData:"data-id",checkallData:"data-wetchbox",containerClass:"wetchBox",containerHoverClass:"hover",checkedClass:"checked",hiddenClass:"transparent",checkallName:"all",mobile:true},t||{});return this.each(function(){function h(n,r){if(e(n).is(":checked")){r.find("."+t.containerClass+"."+s).each(function(){e(this).find("input").prop("checked",true).parent().addClass(t.checkedClass)})}else{r.find("."+t.containerClass).each(function(){e(this).find("input").prop("checked",false).parent().removeClass(t.checkedClass)})}}function p(n,r){var i=true;r.find("input").not("[name='"+t.checkallName+"']").each(function(){if(e(this).prop("checked")==false){i=false}});if(i){r.find("input[name='"+t.checkallName+"']").prop("checked",true).parent().addClass(t.checkedClass)}}var n=e(this),r=n.attr("id"),i=n.attr("name"),s=n.attr("type"),o=n.is(":checked"),u=document.createElement(t.container),a=document.createElement(t.item),f=n.parents("["+t.checkallData+"]").attr(t.checkallData),l=n.parents("["+t.checkallData+"='"+f+"']"),c=navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i);if(t.mobile){if(c){return false}}e(u).addClass(t.containerClass+" "+s).attr(t.containerData,r).prepend(a);n.wrap(u).css({width:e("."+t.containerClass+"."+s).outerWidth(),height:e("."+t.containerClass+"."+s).outerHeight()});n.addClass(t.hiddenClass);if(n.is(":checked")){n.parent().addClass(t.checkedClass)}n.on({change:function(){if(s=="checkbox"){if(i==t.checkallName){h(e(this),l)}else{if(e(this).is(":checked")){p(e(this),l);e(this).parent().addClass(t.checkedClass)}else{var n=l.find("input[name='"+t.checkallName+"']");if(n.prop("checked")==true){n.prop("checked",false).parent().removeClass(t.checkedClass)}e(this).parent().removeClass(t.checkedClass)}}}else{e("input[name='"+i+"']").each(function(){if(e(this).is(":checked")){e(this).parent().addClass(t.checkedClass)}else{e(this).parent().removeClass(t.checkedClass)}})}},hover:function(){e(this).parents("."+t.containerClass).toggleClass(t.containerHoverClass)}})})}})(jQuery)